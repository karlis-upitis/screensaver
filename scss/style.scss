/* only 3X3 elements to style!
* (html, body, head) * (:before, :after);
*
**/
@mixin pseudo-elem-test($color){
	content:"";
	position: fixed;
	// border: 2px solid $color;
	border: 2px solid $color;
	// border-radius: 10px;
}

%star{
	content:"";

	width: 5px;
	height:5px;
	border-radius: 2.5px;
	background-color: white;

	position: fixed;
	left:50%;
	top:50%;
	transform: translateX(-50%) translateY(-50%) translateZ(.3px);
}

%pseudo-elem{
	content:"";
	position: fixed;
}
%blur{
	filter: blur(3px);
}
%reset{
	margin:0;
	padding:0;
}

$offsetTop: 300px;
$offsetLeft: 400px;


//parallax container
html {
	position: relative;
	width: 100%;
	height: 100%;
	overflow: hidden;
	
	//reset
	margin: 0;
	padding: 0;
	perspective: 1px;
	// overflow: auto;

	&:before{
		@include pseudo-elem-test(hotpink);
		width: 100px;
		height:100px;
		top: $offsetTop;
		left: $offsetLeft;
		transform-style: preserve-3d;
		
		
		animation-name: zoom;
		animation-duration: 2s;
		animation-timing-function: linear;
		// animation-delay: 2s;
		animation-iteration-count: infinite;
		// animation-direction: alternate;
		animation-play-state: running;
		background: white;
	}
	&:after{
		@extend %star;
		animation-name: fly-past-0;
		animation-duration: 1.2s;
		animation-timing-function: ease-in;
		// animation-delay: 2s;
		animation-iteration-count: infinite;
		// animation-direction: alternate;
		animation-play-state: running;
		background: white;
	}
	
	*{
		transform-style: preserve-3d;
		position: absolute;
		display: block;
	}

	background-image: url('images/bg-pattern.png');
}

/* 
* Background elements
*
**/
head{
	@extend %reset;
	top: $offsetTop;
	left: $offsetLeft;

	width: 100px;
	height:100px;
	overflow: hidden;

	transform: translateZ(-.4px);
	border: 1px solid firebrick;
	// border-radius: 10px;
	&:before{
		@include pseudo-elem-test(firebrick);
		width: 100px;
		height:100px;
		transform-style: preserve-3d;
		transform: translateZ(-.3px);
	}
	&:after{
		@include pseudo-elem-test(firebrick);
		width: 100px;
		height:100px;
		transform-style: preserve-3d;
		transform: translateZ(.3px);
		// transform: translateZ(.5px);
	}
}


/* 
* Foreground elements
*
**/
body{
	@extend %reset;
	top: $offsetTop;
	left: $offsetLeft;
	
	width: 100px;
	height: 100px;

	border: 1px solid green;
	transform: translateZ(.5px);
	// border-radius: 10px;
	@extend %blur;

	&:before{
		@include pseudo-elem-test(darkgreen);
		@extend %blur;
		width: 100px;
		height:100px;
		transform-style: preserve-3d;
		transform: translateZ(-.3px);
	}
	&:after{
		@include pseudo-elem-test(lightgreen);
		@extend %blur;
		width: 100px;
		height:100px;
		transform-style: preserve-3d;
		transform: translateZ(.3px);
	}
}



/* Standard syntax */
@keyframes zoom {
	0% {
		transform: translateZ(-.7px);
	}
	20% {
		transform: translateZ(-.4px);
	}
	40% {
		transform: translateZ(-.1px);
	}
	60% {
		transform: translateZ(.2px);
	}
	80% {
		transform: translateZ(.5px);
	}
	100% {
		transform: translateZ(.8px);
	}
} 

@keyframes fly-past-0 {
	0% {
		transform: translateZ(-1px);
		opacity:.0;
	}
	70%{
		opacity:1;
		transform: translateZ(0px);
	}
	
	100% {
		transform: translateZ(1px);
		top:59%;
	}

	// 0% {
	// 	transform: translateZ(-1px);
	// }
	// 50%{
	// 	transform: translateZ(-.2px);
	// }
	// 66%{
	// 	transform: translateZ(-.8px);
	// }
	// 88%{
	// 	transform: translateZ(.5px);
	// }
	// 100% {
	// 	transform: translateZ(1px);
	// 	top:59%;
	// }
} 